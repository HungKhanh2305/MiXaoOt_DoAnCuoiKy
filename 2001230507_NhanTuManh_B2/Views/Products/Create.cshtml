@model _2001230507_NhanTuManh_B2.Models.Product

@{
    ViewBag.Title = "Thêm sản phẩm mới";
    Layout = "~/Views/Shared/_Layout.cshtml"; // Đảm bảo có layout nếu cần
}

<div class="container mt-4 admin-container">
    <h1 class="text-gradient mb-4">
        <i class="fas fa-plus-circle"></i> @ViewBag.Title
    </h1>

    <div class="admin-form">
        @using (Html.BeginForm("Create", "Products", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <!-- Hiển thị lỗi tổng quát nếu có -->
            @Html.ValidationSummary(true, "", new { @class = "alert admin-alert alert-danger" })

            <!-- 1. Tên sản phẩm -->
            <div class="mb-3">
                @Html.LabelFor(model => model.ProductName, "Tên sản phẩm", new { @class = "form-label fw-bold" })
                <div class="input-group">
                    <span class="input-group-text bg-light">
                        <i class="fas fa-tag text-primary"></i>
                    </span>
                    @Html.TextBoxFor(model => model.ProductName, new { @class = "form-control", placeholder = "Nhập tên sản phẩm..." })
                </div>
                @Html.ValidationMessageFor(model => model.ProductName, "", new { @class = "text-danger small" })
            </div>

            <div class="row">
                <!-- 2. Danh mục (Dropdown) -->
                <div class="col-md-6 mb-3">
                    @Html.LabelFor(model => model.CategoryID, "Danh mục", new { @class = "form-label fw-bold" })
                    <div class="input-group">
                        <span class="input-group-text bg-light">
                            <i class="fas fa-list-ul text-primary"></i>
                        </span>
                        @* ViewBag.CategoryID thường được Controller truyền qua *@
                        @Html.DropDownList("CategoryID", null, "--- Chọn danh mục ---", new { @class = "form-select" })
                    </div>
                    @Html.ValidationMessageFor(model => model.CategoryID, "", new { @class = "text-danger small" })
                </div>

                <!-- 3. Giá tiền -->
                <div class="col-md-6 mb-3">
                    @Html.LabelFor(model => model.Price, "Giá bán", new { @class = "form-label fw-bold" })
                    <div class="input-group">
                        <span class="input-group-text bg-light">
                            <i class="fas fa-money-bill-wave text-success"></i>
                        </span>
                        @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control", placeholder = "0", type = "number" } })
                        <span class="input-group-text">VNĐ</span>
                    </div>
                    @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger small" })
                </div>
            </div>

            <!-- 4. Link Hình ảnh -->
            <div class="mb-3">
                @Html.LabelFor(model => model.ImageURL, "Đường dẫn hình ảnh", new { @class = "form-label fw-bold" })
                <div class="input-group">
                    <span class="input-group-text bg-light">
                        <i class="fas fa-image text-info"></i>
                    </span>
                    @Html.TextBoxFor(model => model.ImageURL, new { @class = "form-control", placeholder = "https://example.com/image.jpg" })
                </div>
                @Html.ValidationMessageFor(model => model.ImageURL, "", new { @class = "text-danger small" })
            </div>

            <!-- 5. Trạng thái (Còn hàng/Hết hàng) -->
            <div class="mb-4">
                <div class="form-check form-switch">
                    @Html.CheckBoxFor(model => model.IsAvailable, new { @class = "form-check-input", role = "switch", id = "flexSwitchCheckChecked", @checked = "checked" })
                    @Html.LabelFor(model => model.IsAvailable, "Đang kinh doanh (Còn hàng)", new { @class = "form-check-label", @for = "flexSwitchCheckChecked" })
                </div>
                @Html.ValidationMessageFor(model => model.IsAvailable, "", new { @class = "text-danger small" })
            </div>

            <!-- Buttons -->
            <div class="d-flex gap-2 mt-4 pt-3 border-top">
                <button type="submit" class="btn btn-admin btn-admin-success px-4">
                    <i class="fas fa-save me-2"></i>Lưu sản phẩm
                </button>
                <a href="@Url.Action("Index")" class="btn btn-admin btn-admin-secondary px-4">
                    <i class="fas fa-arrow-left me-2"></i>Quay lại
                </a>
            </div>
        }
    </div>
</div>